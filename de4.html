<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đề Kiểm Tra Toán 11 - Đề Số 4 </title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --success: #27ae60; --error: #c0392b; --bg: #ecf0f1; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); color: #333; line-height: 1.6; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 40px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        
        /* Header */
        .exam-header { text-align: center; border-bottom: 2px solid var(--primary); padding-bottom: 20px; margin-bottom: 30px; }
        .exam-header h1 { color: var(--primary); margin: 0; font-size: 1.8rem; }
        .exam-header p { color: #7f8c8d; font-style: italic; }

        /* Timer */
        .sticky-timer { position: fixed; top: 15px; right: 15px; background: white; border: 2px solid var(--error); color: var(--error); padding: 10px 20px; border-radius: 50px; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 10px rgba(0,0,0,0.1); z-index: 1000; }

        /* Sections */
        .section-title { background-color: var(--primary); color: white; padding: 10px 20px; border-radius: 5px; margin: 30px 0 20px 0; font-weight: bold; font-size: 1.1rem; text-transform: uppercase; }

        /* Question Box */
        .question-box { background: #fff; border: 1px solid #bdc3c7; border-radius: 8px; padding: 20px; margin-bottom: 20px; transition: transform 0.2s; position: relative; }
        .question-box:hover { border-color: var(--accent); box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .q-content { font-weight: 600; margin-bottom: 15px; display: block; }

        /* MCQ Options */
        .options-list { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .option-label { display: flex; align-items: center; padding: 10px; border: 1px solid #ecf0f1; border-radius: 5px; cursor: pointer; transition: background 0.2s; }
        .option-label:hover { background-color: #f7f9fa; }
        .option-label input { margin-right: 10px; transform: scale(1.2); }

        /* True/False Table */
        .tf-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .tf-table th, .tf-table td { border: 1px solid #ecf0f1; padding: 12px; }
        .tf-table th { background-color: #f9f9f9; text-align: center; width: 15%; }
        .tf-check { text-align: center; }
        .tf-check input { transform: scale(1.3); cursor: pointer; }

        /* Short Answer */
        .input-short { width: 100%; max-width: 300px; padding: 10px; border: 2px solid #bdc3c7; border-radius: 5px; font-size: 1rem; }
        .input-short:focus { border-color: var(--accent); outline: none; }

        /* Results & Feedback */
        .result-panel { display: none; text-align: center; background: #e8f6f3; padding: 30px; border-radius: 10px; margin-bottom: 30px; border: 2px solid var(--success); }
        .score-big { font-size: 3rem; font-weight: bold; color: var(--success); }
        
        .feedback { margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; font-size: 0.95rem; border-left: 4px solid #95a5a6; display: none; }
        .feedback.correct { border-left-color: var(--success); background-color: #d5f5e3; color: #145a32; }
        .feedback.wrong { border-left-color: var(--error); background-color: #fadbd8; color: #7b241c; }

        /* Button */
        .btn-submit { display: block; width: 100%; background: var(--accent); color: white; padding: 15px; font-size: 1.2rem; border: none; border-radius: 8px; cursor: pointer; margin-top: 30px; font-weight: bold; }
        .btn-submit:hover { background: #2980b9; }

        @media (max-width: 600px) { .options-list { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="sticky-timer" id="timer">45:00</div>

<div class="container">
    <div class="exam-header">
        <h1>ĐỀ KIỂM TRA HỌC KỲ 1 - TOÁN 11 (ĐỀ 4)</h1>
        <p>Bám sát Ma trận đặc tả: Hàm số lượng giác, Dãy số, Giới hạn, Hình không gian</p>
    </div>

    <div class="result-panel" id="resultPanel">
        <h2>KẾT QUẢ BÀI LÀM</h2>
        <div class="score-big" id="finalScore">0.00</div>
        <p id="finalMsg">Em hãy xem lại chi tiết lời giải bên dưới nhé.</p>
        <button onclick="location.reload()" style="padding: 10px 20px; cursor:pointer; margin-top:10px;">Làm lại đề này</button>
    </div>

    <form id="quizForm">
        <div class="section-title">PHẦN I: TRẮC NGHIỆM (3.0 điểm)</div>

        <div class="question-box" id="q1">
            <span class="q-content">Câu 1: Công thức nào sau đây <b>sai</b>?</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q1" value="A"> A. \(\cos(a-b) = \cos a \cos b + \sin a \sin b\)</label>
                <label class="option-label"><input type="radio" name="q1" value="B"> B. \(\sin(a-b) = \sin a \cos b - \cos a \sin b\)</label>
                <label class="option-label"><input type="radio" name="q1" value="C"> C. \(\cos 2a = 2\cos^2 a - 1\)</label>
                <label class="option-label"><input type="radio" name="q1" value="D"> D. \(\sin 2a = \sin a \cos a\)</label>
            </div>
            <div class="feedback"><b>Đáp án: D</b>. Công thức đúng là \(\sin 2a = 2\sin a \cos a\) (thiếu số 2).</div>
        </div>

        <div class="question-box" id="q2">
            <span class="q-content">Câu 2: Nghiệm của phương trình \(\cos x = \frac{\sqrt{2}}{2}\) là:</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q2" value="A"> A. \(x = \pm \frac{\pi}{4} + k2\pi\)</label>
                <label class="option-label"><input type="radio" name="q2" value="B"> B. \(x = \pm \frac{\pi}{3} + k2\pi\)</label>
                <label class="option-label"><input type="radio" name="q2" value="C"> C. \(x = \frac{\pi}{4} + k\pi\)</label>
                <label class="option-label"><input type="radio" name="q2" value="D"> D. \(x = \pm \frac{\pi}{4} + k\pi\)</label>
            </div>
            <div class="feedback"><b>Đáp án: A</b>. \(\cos(\pi/4) = \sqrt{2}/2\) và cos đối nên \(x = \pm \pi/4 + k2\pi\).</div>
        </div>

        <div class="question-box" id="q3">
            <span class="q-content">Câu 3: Cho cấp số cộng \((u_n)\) với \(u_1 = 3\) và công sai \(d = 2\). Số hạng \(u_5\) bằng:</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q3" value="A"> A. 13</label>
                <label class="option-label"><input type="radio" name="q3" value="B"> B. 11</label>
                <label class="option-label"><input type="radio" name="q3" value="C"> C. 9</label>
                <label class="option-label"><input type="radio" name="q3" value="D"> D. 15</label>
            </div>
            <div class="feedback"><b>Đáp án: B</b>. \(u_5 = u_1 + 4d = 3 + 4(2) = 11\).</div>
        </div>

        <div class="question-box" id="q4">
            <span class="q-content">Câu 4: Cho dãy số: \(3; 6; 12; 24; \dots\). Đây là cấp số nhân với công bội \(q\) bằng:</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q4" value="A"> A. 3</label>
                <label class="option-label"><input type="radio" name="q4" value="B"> B. 2</label>
                <label class="option-label"><input type="radio" name="q4" value="C"> C. 4</label>
                <label class="option-label"><input type="radio" name="q4" value="D"> D. 1/2</label>
            </div>
            <div class="feedback"><b>Đáp án: B</b>. \(6/3 = 12/6 = 2\).</div>
        </div>

        <div class="question-box" id="q5">
            <span class="q-content">Câu 5: \(\lim \frac{1}{n^k}\) (với \(k\) nguyên dương) bằng:</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q5" value="A"> A. 0</label>
                <label class="option-label"><input type="radio" name="q5" value="B"> B. 1</label>
                <label class="option-label"><input type="radio" name="q5" value="C"> C. \(+\infty\)</label>
                <label class="option-label"><input type="radio" name="q5" value="D"> D. \(-\infty\)</label>
            </div>
            <div class="feedback"><b>Đáp án: A</b>. Giới hạn cơ bản.</div>
        </div>

        <div class="question-box" id="q6">
            <span class="q-content">Câu 6: Tính \(\lim_{x \to 2} \frac{x^2 - 4}{x - 2}\).</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q6" value="A"> A. 0</label>
                <label class="option-label"><input type="radio" name="q6" value="B"> B. 2</label>
                <label class="option-label"><input type="radio" name="q6" value="C"> C. 4</label>
                <label class="option-label"><input type="radio" name="q6" value="D"> D. Không tồn tại</label>
            </div>
            <div class="feedback"><b>Đáp án: C</b>. \(\frac{(x-2)(x+2)}{x-2} = x+2 \rightarrow 4\).</div>
        </div>

        <div class="question-box" id="q7">
            <span class="q-content">Câu 7: Hàm số \(y = f(x)\) có đồ thị như hình bên (giả sử bị đứt đoạn tại \(x=1\)). Khẳng định nào đúng?</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q7" value="A"> A. Hàm số liên tục tại \(x=1\).</label>
                <label class="option-label"><input type="radio" name="q7" value="B"> B. Hàm số gián đoạn tại \(x=1\).</label>
                <label class="option-label"><input type="radio" name="q7" value="C"> C. Hàm số liên tục trên \(\mathbb{R}\).</label>
                <label class="option-label"><input type="radio" name="q7" value="D"> D. \(\lim_{x \to 1} f(x)\) không tồn tại.</label>
            </div>
            <div class="feedback"><b>Đáp án: B</b>. Đồ thị bị đứt nét tại đâu thì gián đoạn tại đó.</div>
        </div>

        <div class="question-box" id="q8">
            <span class="q-content">Câu 8: Đường thẳng \(d\) song song với mặt phẳng \((\alpha)\) khi và chỉ khi:</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q8" value="A"> A. \(d\) không nằm trong \((\alpha)\) và song song với một đường thẳng nằm trong \((\alpha)\).</label>
                <label class="option-label"><input type="radio" name="q8" value="B"> B. \(d\) không có điểm chung với \((\alpha)\).</label>
                <label class="option-label"><input type="radio" name="q8" value="C"> C. Cả A và B đều đúng.</label>
                <label class="option-label"><input type="radio" name="q8" value="D"> D. \(d\) nằm trong \((\alpha)\).</label>
            </div>
            <div class="feedback"><b>Đáp án: C</b>. Định nghĩa và dấu hiệu nhận biết đều đúng.</div>
        </div>

        <div class="question-box" id="q9">
            <span class="q-content">Câu 9: Cho hình hộp \(ABCD.A'B'C'D'\). Mặt phẳng \((AB'D')\) song song với mặt phẳng nào sau đây?</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q9" value="A"> A. \((BDC')\)</label>
                <label class="option-label"><input type="radio" name="q9" value="B"> B. \((A'C'C)\)</label>
                <label class="option-label"><input type="radio" name="q9" value="C"> C. \((BDA')\)</label>
                <label class="option-label"><input type="radio" name="q9" value="D"> D. \((B'D'C)\)</label>
            </div>
            <div class="feedback"><b>Đáp án: A</b>. Các cạnh tương ứng song song: \(AB' // DC'\), \(AD' // BC'\), \(B'D' // BD\) (Tính chất hình hộp).</div>
        </div>

        <div class="question-box" id="q10">
            <span class="q-content">Câu 10: Cho mẫu số liệu ghép nhóm. Nhóm chứa mốt là nhóm:</span>
            <div class="options-list">
                <label class="option-label"><input type="radio" name="q10" value="A"> A. Có tần số lớn nhất.</label>
                <label class="option-label"><input type="radio" name="q10" value="B"> B. Có tần số nhỏ nhất.</label>
                <label class="option-label"><input type="radio" name="q10" value="C"> C. Có giá trị đại diện lớn nhất.</label>
                <label class="option-label"><input type="radio" name="q10" value="D"> D. Ở vị trí chính giữa bảng.</label>
            </div>
            <div class="feedback"><b>Đáp án: A</b>. Định nghĩa nhóm Mốt.</div>
        </div>

        <div class="section-title">PHẦN II: ĐÚNG / SAI (4.0 điểm)</div>

        <div class="question-box" id="tf1">
            <span class="q-content">Câu 1: Cho phương trình \(\sin 2x = 1\).</span>
            <table class="tf-table">
                <thead><tr><th>Nội dung</th><th>Đúng</th><th>Sai</th></tr></thead>
                <tbody>
                    <tr data-ans="T">
                        <td>a) Tập xác định của phương trình là \(\mathbb{R}\).</td>
                        <td class="tf-check"><input type="radio" name="tf1a" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf1a" value="F"></td>
                    </tr>
                    <tr data-ans="T">
                        <td>b) Phương trình tương đương với \(\sin 2x = \sin \frac{\pi}{2}\).</td>
                        <td class="tf-check"><input type="radio" name="tf1b" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf1b" value="F"></td>
                    </tr>
                    <tr data-ans="T">
                        <td>c) Một nghiệm của phương trình là \(x = \frac{\pi}{4}\).</td>
                        <td class="tf-check"><input type="radio" name="tf1c" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf1c" value="F"></td>
                    </tr>
                    <tr data-ans="F">
                        <td>d) Phương trình có 2 nghiệm phân biệt trong khoảng \((0; \pi)\).</td>
                        <td class="tf-check"><input type="radio" name="tf1d" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf1d" value="F"></td>
                    </tr>
                </tbody>
            </table>
            <div class="feedback">
                <b>Giải thích:</b> d) Sai. \(2x = \pi/2 + k2\pi \Rightarrow x = \pi/4 + k\pi\). Trong \((0;\pi)\) chỉ có \(x=\pi/4\) (1 nghiệm).
            </div>
        </div>

        <div class="question-box" id="tf2">
            <span class="q-content">Câu 2: Phí gửi xe tại một bãi xe được tính như sau: 15 nghìn đồng cho 2 giờ đầu tiên. Nếu quá 2 giờ, mỗi giờ tiếp theo tính thêm 5 nghìn đồng. Gọi \(C(x)\) là số tiền phải trả khi gửi \(x\) giờ.</span>
            <table class="tf-table">
                <thead><tr><th>Nội dung</th><th>Đúng</th><th>Sai</th></tr></thead>
                <tbody>
                    <tr data-ans="T">
                        <td>a) Hàm số chi phí là \(C(x) = \begin{cases} 15 & 0 < x \le 2 \\ 15 + 5(x-2) & x > 2 \end{cases}\).</td>
                        <td class="tf-check"><input type="radio" name="tf2a" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf2a" value="F"></td>
                    </tr>
                    <tr data-ans="F">
                        <td>b) Nếu gửi 4 giờ thì số tiền phải trả là 35 nghìn đồng.</td>
                        <td class="tf-check"><input type="radio" name="tf2b" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf2b" value="F"></td>
                    </tr>
                    <tr data-ans="T">
                        <td>c) \(\lim_{x \to 2^+} C(x) = 15\).</td>
                        <td class="tf-check"><input type="radio" name="tf2c" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf2c" value="F"></td>
                    </tr>
                    <tr data-ans="T">
                        <td>d) Hàm số liên tục tại điểm \(x = 2\).</td>
                        <td class="tf-check"><input type="radio" name="tf2d" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf2d" value="F"></td>
                    </tr>
                </tbody>
            </table>
            <div class="feedback">
                <b>Giải thích:</b> b) Sai. \(C(4) = 15 + 5(4-2) = 15 + 10 = 25\) nghìn.
            </div>
        </div>

        <div class="question-box" id="tf3">
            <span class="q-content">Câu 3: Cho đường thẳng \(d\) song song với mặt phẳng \((P)\).</span>
            <table class="tf-table">
                <thead><tr><th>Nội dung</th><th>Đúng</th><th>Sai</th></tr></thead>
                <tbody>
                    <tr data-ans="T">
                        <td>a) Đường thẳng \(d\) và mặt phẳng \((P)\) không có điểm chung.</td>
                        <td class="tf-check"><input type="radio" name="tf3a" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf3a" value="F"></td>
                    </tr>
                    <tr data-ans="F">
                        <td>b) Mọi đường thẳng nằm trong \((P)\) đều song song với \(d\).</td>
                        <td class="tf-check"><input type="radio" name="tf3b" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf3b" value="F"></td>
                    </tr>
                    <tr data-ans="T">
                        <td>c) Tồn tại vô số đường thẳng trong \((P)\) song song với \(d\).</td>
                        <td class="tf-check"><input type="radio" name="tf3c" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf3c" value="F"></td>
                    </tr>
                    <tr data-ans="T">
                        <td>d) Nếu mặt phẳng \((Q)\) chứa \(d\) và cắt \((P)\) theo giao tuyến \(\Delta\) thì \(\Delta // d\).</td>
                        <td class="tf-check"><input type="radio" name="tf3d" value="T"></td>
                        <td class="tf-check"><input type="radio" name="tf3d" value="F"></td>
                    </tr>
                </tbody>
            </table>
            <div class="feedback">
                <b>Giải thích:</b> b) Sai. Các đường thẳng trong \((P)\) có thể chéo nhau với \(d\).
            </div>
        </div>

        <div class="section-title">PHẦN III: TRẢ LỜI NGẮN (3.0 điểm)</div>

        <div class="question-box" id="sa1">
            <span class="q-content">Câu 1: Một tờ giấy có độ dày 0,1 mm. Giả sử ta có thể gấp đôi tờ giấy liên tục. Hỏi sau 10 lần gấp, độ dày của tập giấy là bao nhiêu mm?</span>
            <input type="number" step="0.1" class="input-short" id="input_sa1" placeholder="Nhập kết quả...">
            <div class="feedback"><b>Đáp án: 102.4</b>. <br> Cấp số nhân \(u_1 = 0.1\times 2\) (sau 1 lần gấp), \(u_{10} = 0.1 \times 2^{10} = 0.1 \times 1024 = 102.4\) mm.</div>
        </div>

        <div class="question-box" id="sa2">
            <span class="q-content">Câu 2: Tìm giá trị của \(m\) để hàm số \(f(x) = \begin{cases} \frac{x^2-1}{x-1} & x \neq 1 \\ 2m + 1 & x = 1 \end{cases}\) liên tục tại \(x = 1\).</span>
            <input type="number" step="0.1" class="input-short" id="input_sa2" placeholder="Nhập giá trị m...">
            <div class="feedback"><b>Đáp án: 0.5</b>. <br> \(\lim_{x\to 1} (x+1) = 2\). Để liên tục thì \(2m+1 = 2 \Rightarrow 2m=1 \Rightarrow m=0.5\).</div>
        </div>

        <div class="question-box" id="sa3">
            <span class="q-content">Câu 3: Ba mặt phẳng song song cắt hai đường thẳng chéo nhau \(a, b\) lần lượt tại \(A,B,C\) và \(A',B',C'\). Biết \(AB = 2\) cm, \(BC = 4\) cm và \(A'B' = 3\) cm. Tính độ dài \(B'C'\) (cm).</span>
            <input type="number" class="input-short" id="input_sa3" placeholder="Nhập độ dài...">
            <div class="feedback"><b>Đáp án: 6</b>. <br> Theo định lý Thales trong không gian: \(\frac{AB}{BC} = \frac{A'B'}{B'C'} \Rightarrow \frac{2}{4} = \frac{3}{x} \Rightarrow x = 6\).</div>
        </div>

        <button type="button" class="btn-submit" onclick="submitExam()">NỘP BÀI VÀ XEM KẾT QUẢ</button>
    </form>
</div>

<script>
    // --- Countdown Timer ---
    let time = 45 * 60; 
    const timerEl = document.getElementById('timer');
    const interval = setInterval(() => {
        let m = Math.floor(time / 60);
        let s = time % 60;
        timerEl.textContent = `${m}:${s < 10 ? '0'+s : s}`;
        time--;
        if(time < 0) {
            clearInterval(interval);
            alert("Hết giờ làm bài!");
            submitExam();
        }
    }, 1000);

    // --- Grading Logic ---
    function submitExam() {
        clearInterval(interval);
        let score = 0;

        // 1. Chấm Trắc nghiệm (10 câu x 0.3đ = 3.0đ)
        const keyMCQ = { q1:'D', q2:'A', q3:'B', q4:'B', q5:'A', q6:'C', q7:'B', q8:'C', q9:'A', q10:'A' };
        
        for (let q in keyMCQ) {
            const userChoice = document.querySelector(`input[name="${q}"]:checked`);
            const box = document.getElementById(q);
            const feed = box.querySelector('.feedback');
            feed.style.display = 'block';

            if(userChoice && userChoice.value === keyMCQ[q]) {
                score += 0.3;
                box.style.borderColor = "var(--success)";
                feed.classList.add('correct');
            } else {
                box.style.borderColor = "var(--error)";
                feed.classList.add('wrong');
            }
        }

        // 2. Chấm Đúng/Sai (3 câu x ~1.33đ = 4.0đ)
        // Mỗi ý nhỏ tính 0.333đ
        const keyTF = {
            tf1: ['T', 'T', 'T', 'F'],
            tf2: ['T', 'F', 'T', 'T'],
            tf3: ['T', 'F', 'T', 'T']
        };

        for (let id in keyTF) {
            const rows = document.querySelectorAll(`#${id} tbody tr`);
            const feed = document.querySelector(`#${id} .feedback`);
            feed.style.display = 'block';
            let correctCount = 0;

            rows.forEach((row, idx) => {
                const t = row.querySelector('input[value="T"]').checked;
                const f = row.querySelector('input[value="F"]').checked;
                const correctVal = keyTF[id][idx];
                
                let userVal = t ? 'T' : (f ? 'F' : '');
                if(userVal === correctVal) {
                    correctCount++;
                    row.style.backgroundColor = "#d5f5e3";
                } else {
                    row.style.backgroundColor = "#fadbd8";
                }
            });
            score += correctCount * (4.0 / 12.0);
        }

        // 3. Chấm Trả lời ngắn (3 câu x 1.0đ = 3.0đ)
        const keySA = {
            input_sa1: 102.4,
            input_sa2: 0.5,
            input_sa3: 6
        };

        for (let id in keySA) {
            const input = document.getElementById(id);
            const box = document.getElementById(id.replace('input_', ''));
            const feed = box.querySelector('.feedback');
            feed.style.display = 'block';
            
            let val = parseFloat(input.value);
            if(Math.abs(val - keySA[id]) < 0.1) {
                score += 1.0;
                box.style.borderColor = "var(--success)";
                feed.classList.add('correct');
            } else {
                box.style.borderColor = "var(--error)";
                feed.classList.add('wrong');
            }
        }

        // Hiển thị kết quả
        const panel = document.getElementById('resultPanel');
        const finalScore = document.getElementById('finalScore');
        const finalMsg = document.getElementById('finalMsg');
        
        panel.style.display = 'block';
        finalScore.textContent = score.toFixed(2) + " / 10";
        
        if(score >= 8) finalMsg.textContent = "Xuất sắc! Kiến thức rất vững.";
        else if(score >= 5) finalMsg.textContent = "Đạt yêu cầu. Hãy ôn lại phần sai.";
        else finalMsg.textContent = "Cần cố gắng nhiều hơn.";

        window.scrollTo(0, 0);
        
        // Disable form
        const inputs = document.querySelectorAll('input');
        inputs.forEach(i => i.disabled = true);
        document.querySelector('.btn-submit').style.display = 'none';
    }
</script>

</body>
</html>
